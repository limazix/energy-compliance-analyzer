
@startuml C1 - System Context - Energy Compliance Analyzer (Detailed)
!define GCP_SPRITES_LOCATION https://raw.githubusercontent.com/Crashedmind/PlantUML-icons-GCP/master/dist
!include https://raw.githubusercontent.com/Crashedmind/PlantUML-icons-GCP/master/dist/GCPC4Integration.puml

' Include specific icon sets
!include https://raw.githubusercontent.com/Crashedmind/PlantUML-icons-GCP/master/dist/Identity/FirebaseAuthentication.puml
!include https://raw.githubusercontent.com/Crashedmind/PlantUML-icons-GCP/master/dist/AI_Machine_Learning/VertexAI.puml
!include https://raw.githubusercontent.com/Crashedmind/PlantUML-icons-GCP/master/dist/Firebase/FirebasePlatform.puml


skinparam {
    HyperlinkColor #3F51B5
    FontName Inter, SansSerif
    shadowing false
    RoundCorner 20
    BackgroundColor #F0F2F5
    ArrowColor #555555
    ArrowThickness 1.5
    Person { BackgroundColor #E3F2FD; BorderColor #3F51B5; }
    System { BackgroundColor #FFF3E0; BorderColor #FF9800; }
    System_Ext { BackgroundColor #ECEFF1; BorderColor #78909C; }
}
LAYOUT_WITH_LEGEND()

title System Context for Energy Compliance Analyzer (Detailed)

Person(User, "Energy Sector Professional", "User interacting with the system to analyze power quality data and ensure compliance.")

System_Ext(GoogleSignIn, "Google Sign-In", "External OAuth provider for user authentication.", $sprite=$firebase_auth)
System_Ext(GeminiModels, "Google AI (Gemini Models)", "External Generative AI service providing LLM capabilities for analysis and chat.", $sprite=$vertex_ai)
System_Ext(Aneel, "ANEEL", "Brazilian National Electrical Energy Agency. Source of normative resolutions and compliance standards.")

System(EnergyComplianceAnalyzer, "Energy Compliance Analyzer", "Analyzes power quality data against ANEEL regulations, generates reports, and allows interactive chat.", $sprite=$firebase_platform)

User -> EnergyComplianceAnalyzer : Uploads CSV Data
User -> EnergyComplianceAnalyzer : Interacts with Reports
User -> EnergyComplianceAnalyzer : Manages Analyses
EnergyComplianceAnalyzer -> GoogleSignIn : Authenticates User
EnergyComplianceAnalyzer -> GeminiModels : For AI Processing & Chat
EnergyComplianceAnalyzer -> Aneel : References Regulations (Conceptually)

Rel(User, EnergyComplianceAnalyzer, "Uses")
Rel(EnergyComplianceAnalyzer, GoogleSignIn, "Delegates Authentication to")
Rel(EnergyComplianceAnalyzer, GeminiModels, "Utilizes for AI analysis")
Rel(EnergyComplianceAnalyzer, Aneel, "Validates data against standards from")

@enduml

    